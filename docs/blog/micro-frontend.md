---  
title: 微前端 
date: 2023-06-06
categories:  
 - frontEnd  
tags:  
 - 技术  
---  
# 微前端
类似微服务架构的概念，将大型前端应用拆分为多个小型前端应用，但是这些应用会被集成到一个单页前端应用程序中。并且，每个小型前端应用都有自己的仓库，可以专注于单一的某个功能。  
## 为什么需要微前端
* 主应用基座和单个微应用拥有技术自主权，可以自由使用 Vue、React 等
* 更快且独立的部署：每个项目独立部署构建，提升构建效率
* 团队代码相互隔离，每个仓库独立运行，更容易上手
* 多个项目可以交给不同的团队去负责开发
* 适合项目的渐进式重构

## 常见的微前端解决方案
* 使用 HTTP 服务器（Nginx）的路由来重定向多个微应用
* 使用 iframe 及自定义消息传递机制
* 使用纯 Web Components 构建应用
* 组合式应用路由分发（中心基座方案）

### 组合式应用路由分发
当下微前端主要采用该方案，其中包括一个基座（MainApp）应用和若干个微（MicroApp）应用。
基座应用大多数是一个前端 SPA 项目，主要负责应用注册、路由映射、消息下发等。
而微应用是独立前端项目，每个微应用注册到基座应用中，由基座进行管理，但是如果脱离基座也可以单独访问。
![microapp](@alias/microapp.jpeg)  
优点：

技术不限制： 可以各自使用完全不同的前端框架；
无感切换： 因为是一个 SPA 项目，所以体验极佳；
利于SEO
独立开发与部署
微前端优势几乎都有

缺点：  
沙箱不隔离： 也就是 js 与 css 样式会出现冲突的问题

## 什么项目需要微前端
* 巨石应用：部署频繁、部署时间长、加载缓慢、开发效率随着应用变大而低下
* 多个项目间跨应用模块共享
* 有拆分出多个独立的子系统，独立部署维护的需求

## 微前端存在的问题
